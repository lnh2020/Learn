在 MySQL 中，除了基础的 CRUD 操作，还有许多高频使用的进阶操作，涉及条件逻辑、数据处理、多表关联等场景。以下是详细介绍：


### 一、条件查询进阶（WHERE 子句扩展）
`WHERE` 子句用于过滤数据，除了基础的比较运算符，还有更复杂的逻辑组合和特殊条件。

#### 1. 逻辑运算符
- `AND`：同时满足多个条件
- `OR`：满足任意一个条件
- `NOT`：取反条件

**示例**：
```sql
-- 查询年龄25-30岁且姓名含“张”的用户
SELECT * FROM users 
WHERE age BETWEEN 25 AND 30 
  AND name LIKE '%张%';

-- 查询年龄小于20或大于40的用户
SELECT * FROM users 
WHERE age < 20 OR age > 40;

-- 查询年龄不在20-30范围内的用户
SELECT * FROM users 
WHERE NOT (age BETWEEN 20 AND 30);
```

#### 2. 特殊条件匹配
- `IN`：判断值是否在指定列表中（等价于多个 `OR`）
  ```sql
  -- 查询年龄为25、28、30的用户
  SELECT * FROM users WHERE age IN (25, 28, 30);
  ```
- `BETWEEN ... AND ...`：判断值是否在指定范围内（包含边界）
  ```sql
  -- 查询注册时间在2023-01-01到2023-12-31之间的用户
  SELECT * FROM users 
  WHERE register_time BETWEEN '2023-01-01' AND '2023-12-31';
  ```
- `LIKE`：模糊匹配（搭配通配符）
  - `%`：匹配任意长度的字符（包括0个）
  - `_`：匹配单个字符
  ```sql
  -- 名字以“李”开头的用户（如“李白”“李四”）
  SELECT * FROM users WHERE name LIKE '李%';
  
  -- 名字第二个字是“三”的用户（如“张三”“王三”）
  SELECT * FROM users WHERE name LIKE '_三%';
  ```
- `IS NULL` / `IS NOT NULL`：判断字段是否为 `NULL`（注意：`NULL` 不能用 `=` 或 `!=` 判断）
  ```sql
  -- 查询未填写邮箱的用户
  SELECT * FROM users WHERE email IS NULL;
  
  -- 查询已填写手机号的用户
  SELECT * FROM users WHERE phone IS NOT NULL;
  ```


### 二、聚合函数与分组查询
聚合函数用于对数据进行统计计算，常与 `GROUP BY` 结合实现分组统计。

#### 1. 常用聚合函数
- `COUNT(字段)`：统计非 `NULL` 值的数量（`COUNT(*)` 统计所有行数，包括 `NULL`）
- `SUM(字段)`：计算数值字段的总和
- `AVG(字段)`：计算数值字段的平均值
- `MAX(字段)`：获取字段的最大值
- `MIN(字段)`：获取字段的最小值

**示例**：
```sql
-- 统计用户总数（包括所有行，无论是否有NULL）
SELECT COUNT(*) AS total_users FROM users;

-- 统计有邮箱的用户数量（排除NULL）
SELECT COUNT(email) AS email_users FROM users;

-- 计算所有用户的平均年龄、最大年龄、最小年龄
SELECT 
  AVG(age) AS avg_age,
  MAX(age) AS max_age,
  MIN(age) AS min_age 
FROM users;
```

#### 2. 分组查询（GROUP BY）
将数据按指定字段分组，对每组单独应用聚合函数。

**语法**：
```sql
SELECT 分组字段, 聚合函数(字段) 
FROM 表名 
GROUP BY 分组字段;
```

**示例**：
```sql
-- 按性别分组，统计每组的用户数量和平均年龄
SELECT 
  gender, 
  COUNT(*) AS user_count, 
  AVG(age) AS avg_age 
FROM users 
GROUP BY gender;
```

#### 3. 分组后的过滤（HAVING）
`WHERE` 用于分组前过滤数据，`HAVING` 用于分组后过滤分组结果（可直接使用聚合函数）。

**示例**：
```sql
-- 按性别分组，只保留用户数大于100的分组
SELECT 
  gender, 
  COUNT(*) AS user_count 
FROM users 
GROUP BY gender 
HAVING user_count > 100; -- 等价于 HAVING COUNT(*) > 100
```


### 三、多表关联查询（JOIN）
当数据分布在多个表中时，需通过关联查询合并结果（核心是找到表之间的关联字段，如外键）。

#### 1. 内连接（INNER JOIN）
只返回两表中匹配关联条件的记录（交集）。

**语法**：
```sql
SELECT 字段 
FROM 表1 
INNER JOIN 表2 
  ON 表1.关联字段 = 表2.关联字段;
```

**示例**：  
假设有 `users` 表（id, name）和 `orders` 表（id, user_id, product），通过 `user_id` 关联：
```sql
-- 查询用户及其下单记录（只显示有订单的用户）
SELECT 
  users.name, 
  orders.product 
FROM users 
INNER JOIN orders 
  ON users.id = orders.user_id;
```

#### 2. 左连接（LEFT JOIN）
返回左表所有记录，右表中匹配的记录；若右表无匹配，返回 `NULL`。

**示例**：
```sql
-- 查询所有用户及其下单记录（包括没有订单的用户）
SELECT 
  users.name, 
  orders.product 
FROM users 
LEFT JOIN orders 
  ON users.id = orders.user_id;
```

#### 3. 右连接（RIGHT JOIN）
返回右表所有记录，左表中匹配的记录；若左表无匹配，返回 `NULL`。

**示例**：
```sql
-- 查询所有订单及对应的用户（包括订单记录中user_id无效的情况）
SELECT 
  users.name, 
  orders.product 
FROM users 
RIGHT JOIN orders 
  ON users.id = orders.user_id;
```

#### 4. 全连接（FULL JOIN）
返回两表所有记录（左表+右表，MySQL 不直接支持 `FULL JOIN`，需用 `UNION` 模拟）：
```sql
SELECT * FROM users LEFT JOIN orders ON users.id = orders.user_id
UNION
SELECT * FROM users RIGHT JOIN orders ON users.id = orders.user_id;
```


### 四、子查询（嵌套查询）
将一个查询结果作为另一个查询的条件或数据源，嵌套在 `WHERE`、`FROM` 等子句中。

#### 1. 作为条件（WHERE 子句中）
**示例**：
```sql
-- 查询年龄大于平均年龄的用户
SELECT * FROM users 
WHERE age > (SELECT AVG(age) FROM users);

-- 查询下单过“手机”的用户
SELECT * FROM users 
WHERE id IN (SELECT user_id FROM orders WHERE product = '手机');
```

#### 2. 作为数据源（FROM 子句中）
将子查询结果视为一张临时表（需取别名）。

**示例**：
```sql
-- 查询每个用户的订单数量（基于子查询统计订单）
SELECT 
  users.name, 
  order_stats.order_count 
FROM users 
LEFT JOIN (
  SELECT user_id, COUNT(*) AS order_count 
  FROM orders 
  GROUP BY user_id
) AS order_stats 
ON users.id = order_stats.user_id;
```


### 五、数据排序与分页
#### 1. 排序（ORDER BY）
按指定字段升序（`ASC`）或降序（`DESC`）排列，可多字段排序。

**示例**：
```sql
-- 按年龄降序，若年龄相同则按注册时间升序
SELECT * FROM users 
ORDER BY age DESC, register_time ASC;
```

#### 2. 分页（LIMIT）
限制返回结果的数量，常用于分页展示（`LIMIT 起始位置, 数量`，起始位置从0开始）。

**示例**：
```sql
-- 第1页：返回前10条（起始位置0，取10条）
SELECT * FROM users LIMIT 0, 10;

-- 第2页：返回11-20条（起始位置10，取10条）
SELECT * FROM users LIMIT 10, 10;
```


### 六、其他实用操作
#### 1. 去重（DISTINCT）
去除查询结果中重复的记录（针对所有选中字段的组合去重）。

**示例**：
```sql
-- 查询所有不重复的用户年龄段
SELECT DISTINCT age FROM users;
```

#### 2. 计算字段（表达式）
直接在 `SELECT` 中使用算术或字符串拼接等表达式。

**示例**：
```sql
-- 计算用户年龄加10后的结果
SELECT name, age, age + 10 AS age_in_10_years FROM users;

-- 拼接姓名和邮箱（使用CONCAT函数）
SELECT CONCAT(name, ' <', email, '>') AS user_info FROM users;
```

#### 3. 条件表达式（CASE WHEN）
实现类似编程语言的 `if-else` 逻辑。

**示例**：
```sql
-- 给用户按年龄分组标签
SELECT 
  name,
  age,
  CASE 
    WHEN age < 18 THEN '未成年人'
    WHEN age BETWEEN 18 AND 60 THEN '成年人'
    ELSE '老年人'
  END AS age_group
FROM users;
```


这些操作覆盖了 MySQL 日常使用的大部分场景，熟练掌握后可灵活处理复杂的数据查询和分析需求。实际使用时，需注意索引对查询性能的影响，尤其是多表关联或大数据量查询时。