# MySQL 中的数据类型

MySQL 提供了丰富的数据类型，用于定义表中字段的存储格式和约束。合理选择数据类型可提高存储效率和查询性能，主要分为以下几类：


## 1. 数值类型
用于存储整数、小数等数值数据。

| 类型         | 说明                                  | 存储空间  | 范围（有符号）                          |
|--------------|---------------------------------------|-----------|-----------------------------------------|
| `TINYINT`    | 微整数                                | 1字节     | -128 ~ 127                              |
| `SMALLINT`   | 小整数                                | 2字节     | -32768 ~ 32767                          |
| `MEDIUMINT`  | 中整数                                | 3字节     | -8388608 ~ 8388607                      |
| `INT`/`INTEGER` | 整数（常用）                        | 4字节     | -2147483648 ~ 2147483647                |
| `BIGINT`     | 大整数                                | 8字节     | -9223372036854775808 ~ 9223372036854775807 |
| `FLOAT`      | 单精度浮点数                          | 4字节     | 约 ±3.4e38（精度约6-7位）               |
| `DOUBLE`     | 双精度浮点数                          | 8字节     | 约 ±1.8e308（精度约15位）               |
| `DECIMAL(M,D)` | 定点数（高精度小数，M总位数，D小数位） | 可变      | 如 `DECIMAL(5,2)` 范围：-999.99 ~ 999.99 |

**示例**：  
```sql
CREATE TABLE products (
  id INT,
  stock SMALLINT,
  price DECIMAL(10,2)  -- 最大存储 99999999.99
);
```


## 2. 字符串类型
用于存储文本、字符等数据。

| 类型         | 说明                                  | 存储空间                  |
|--------------|---------------------------------------|---------------------------|
| `CHAR(M)`    | 固定长度字符串（M为长度，1~255）      | 始终占用 M 字节           |
| `VARCHAR(M)` | 可变长度字符串（M为最大长度，1~65535）| 实际长度 + 1~2字节（记录长度） |
| `TINYTEXT`   | 短文本                                | 0~255字节                 |
| `TEXT`       | 普通文本                              | 0~65535字节               |
| `MEDIUMTEXT` | 中等文本                              | 0~16777215字节（约16MB）  |
| `LONGTEXT`   | 长文本                                | 0~4294967295字节（约4GB） |
| `ENUM`       | 枚举类型（只能选预定义值中的一个）    | 1~2字节（取决于选项数量） |
| `SET`        | 集合类型（可多选预定义值）            | 1~8字节（取决于选项数量） |

**示例**：  
```sql
CREATE TABLE users (
  username VARCHAR(50),  -- 用户名最长50字符
  gender ENUM('male', 'female', 'other'),  -- 只能选这三个值
  bio TEXT  -- 存储用户简介（可变长文本）
);
```


## 3. 日期和时间类型
用于存储日期、时间或时间戳。

| 类型         | 说明                          | 格式示例          | 存储空间 |
|--------------|-------------------------------|-------------------|----------|
| `DATE`       | 日期（年-月-日）              | '2023-10-01'      | 3字节    |
| `TIME`       | 时间（时:分:秒）              | '14:30:00'        | 3字节    |
| `DATETIME`   | 日期+时间                     | '2023-10-01 14:30:00' | 8字节 |
| `TIMESTAMP`  | 时间戳（UTC时间，受时区影响） | '2023-10-01 14:30:00' | 4字节 |
| `YEAR`       | 年份                          | 2023              | 1字节    |

**区别**：  
- `DATETIME` 存储范围：1000-01-01 ~ 9999-12-31，不受时区影响。  
- `TIMESTAMP` 存储范围：1970-01-01 ~ 2038-01-19，会随数据库时区自动转换。

**示例**：  
```sql
CREATE TABLE orders (
  create_time DATETIME,  -- 订单创建时间（固定时区）
  update_ts TIMESTAMP    -- 最后更新时间戳（自动适应时区）
);
```


## 4. 二进制类型
用于存储图片、文件等二进制数据（建议优先存储文件路径，而非直接存二进制）。

| 类型           | 说明                          | 存储空间                  |
|----------------|-------------------------------|---------------------------|
| `TINYBLOB`     | 小型二进制数据                | 0~255字节                 |
| `BLOB`         | 二进制数据                    | 0~65535字节               |
| `MEDIUMBLOB`   | 中等二进制数据                | 0~16777215字节（约16MB）  |
| `LONGBLOB`     | 大型二进制数据                | 0~4294967295字节（约4GB） |


## 选择建议
1. **最小够用原则**：如存储年龄用 `TINYINT` 而非 `INT`，节省空间。  
2. **字符串优先选 `VARCHAR`**：除非长度固定（如手机号），否则比 `CHAR` 更省空间。  
3. **小数用 `DECIMAL`**：避免 `FLOAT`/`DOUBLE` 的精度丢失（如金额计算）。  
4. **时间戳选 `TIMESTAMP`**：需跨时区时更方便；否则用 `DATETIME`。  

根据业务场景合理选择，可显著提升数据库性能！