<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">在 Linux 系统中，输出重定向用于将命令的输出结果（标准输出、错误输出）重定向到文件或其他位置，而不是直接显示在终端。这在保存命令结果、记录日志等场景中非常实用。</font>

### <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">一、输出重定向的基本符号</font>
<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">Linux 中有三种常用的输出流：</font>

+ **<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">标准输出（stdout）</font>**<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：命令正常执行的输出，默认显示在终端，文件描述符为</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">1</font>`
+ **<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">标准错误（stderr）</font>**<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：命令执行出错时的输出，默认显示在终端，文件描述符为</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">2</font>`
+ **<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">标准输入（stdin）</font>**<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：命令的输入来源，默认是键盘，文件描述符为</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">0</font>`

<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">常用重定向符号：</font>

| **<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">符号</font>** | **<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">作用说明</font>** |
| :--- | :--- |
| `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">></font>` | <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">将标准输出重定向到文件（覆盖原有内容）</font> |
| `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">>></font>` | <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">将标准输出重定向到文件（追加到原有内容）</font> |
| `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">2></font>` | <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">将标准错误重定向到文件（覆盖原有内容）</font> |
| `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">2>></font>` | <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">将标准错误重定向到文件（追加到原有内容）</font> |
| `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">&></font>`<br/><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">或</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">>&</font>` | <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">将标准输出和标准错误同时重定向到文件</font> |


### <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">二、常用示例</font>
#### <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">1. 标准输出重定向（</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">></font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">和</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">>></font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">）</font>
**<font style="color:rgb(249, 250, 251);background-color:rgb(252, 252, 252);">bash</font>**

```bash
# 将 ls 命令的输出保存到 filelist.txt（覆盖原有内容）
ls -l > filelist.txt

# 将系统信息追加到 system.log（不覆盖原有内容）
uname -a >> system.log
```

#### <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">2. 标准错误重定向（</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">2></font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">和</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">2>></font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">）</font>
**<font style="color:rgb(249, 250, 251);background-color:rgb(252, 252, 252);">bash</font>**

```bash
# 将错误信息（如找不到文件）保存到 error.log
cat non_existent_file 2> error.log

# 将持续产生的错误信息追加到 error.log
sudo systemctl start unknown_service 2>> error.log
```

#### <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">3. 同时重定向标准输出和错误（</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">&></font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">或</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">>&</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">）</font>
**<font style="color:rgb(249, 250, 251);background-color:rgb(252, 252, 252);">bash</font>**

```bash
# 执行脚本时，将所有输出（正确和错误）都保存到 script.log
./my_script.sh &> script.log

# 等价写法（老式语法）
./my_script.sh > script.log 2>&1
```

#### <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">4. 丢弃输出（重定向到空设备</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">/dev/null</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">）</font>
`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">/dev/null</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">是一个特殊设备文件，写入其中的内容会被直接丢弃，常用于屏蔽不需要的输出：</font>

**<font style="color:rgb(249, 250, 251);background-color:rgb(252, 252, 252);">bash</font>**

```bash
# 屏蔽命令的所有输出（正确和错误都不显示）
ping -c 1 192.168.1.1 &> /dev/null

# 只屏蔽错误输出，保留标准输出
find / -name "*.log" 2> /dev/null
```

#### <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">5. 结合管道的重定向</font>
<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">管道（</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">|</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">）用于将一个命令的输出作为另一个命令的输入，可与重定向结合使用：</font>

**<font style="color:rgb(249, 250, 251);background-color:rgb(252, 252, 252);">bash</font>**

```bash
# 搜索包含 "error" 的行，并将结果保存到 errors.txt
cat /var/log/syslog | grep "error" > errors.txt

# 统计文件行数，并将结果追加到 count.log
wc -l *.txt | grep "total" >> count.log
```

### <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">三、输入重定向（</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"><</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">）</font>
<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">除了输出重定向，还可以用</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"><</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">进行输入重定向，将文件内容作为命令的输入：</font>

**<font style="color:rgb(249, 250, 251);background-color:rgb(252, 252, 252);">bash</font>**

```bash
# 等价于 cat file.txt，但使用输入重定向
cat < file.txt

# 从 file.txt 读取内容作为 mail 命令的输入
mail -s "Report" user@example.com < report.txt
```

### <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">注意事项</font>
1. <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">使用</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">></font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">时若目标文件已存在，会直接覆盖原有内容（危险操作），建议先用</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">>></font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">测试或备份文件</font>
2. <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">错误输出默认不会被</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">></font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">或</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">>></font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">捕获，必须显式使用</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">2></font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">或</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">&></font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">才能处理错误信息</font>
3. `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">/dev/null</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">是 "黑洞设备"，写入其中的任何数据都会消失，适合屏蔽无关输出</font>

<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">输出重定向是 Linux 命令行的重要特性，通过灵活运用，可以高效地处理命令输出、记录日志或自动化脚本执行。</font>

