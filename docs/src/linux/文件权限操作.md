### <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">1. 使用 chmod命令修改文件权限</font>
`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">chmod</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> 命令用于修改文件 / 目录的权限，格式如下：</font>

**<font style="color:rgb(249, 250, 251);background-color:rgb(252, 252, 252);">bash</font>**

```bash
chmod [选项] 权限设置 文件名/目录名
```

#### <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">1. 符号模式修改权限</font>
<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">通过符号指定</font>**<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">用户范围</font>**<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">、</font>**<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">操作符</font>**<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">和</font>**<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">权限</font>**<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：</font>

+ <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">用户范围：</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">u</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">（所有者）、</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">g</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">（所属组）、</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">o</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">（其他用户）、</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">a</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">（所有用户，默认）</font>
+ <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">操作符：</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">+</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">（添加权限）、</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">-</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">（移除权限）、</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">=</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">（设置权限，覆盖原有）</font>
+ <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">权限：</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">r</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">、</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">w</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">、</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">x</font>`

<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">示例：</font>

**<font style="color:rgb(249, 250, 251);background-color:rgb(252, 252, 252);">bash</font>**

```bash
# 给文件所有者添加执行权限
chmod u+x file.txt

# 移除所属组的写权限
chmod g-w file.txt

# 给所有用户设置读权限（覆盖原有）
chmod a=r file.txt

# 同时修改多组权限：所有者rwx，所属组rx，其他用户无权限
chmod u=rwx,g=rx,o=- file.txt
```

#### <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">2. 数字模式修改权限</font>
<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">每个权限对应一个数字，通过累加计算每组权限的数值：</font>

+ `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">r</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">= 4</font>
+ `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">w</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">= 2</font>
+ `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">x</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">= 1</font>
+ <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">无权限 = 0</font>

<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">每组权限的数值范围是 0~7，三组权限组合成一个 3 位数字（如</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">754</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">）：</font>

+ <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">第一位：所有者权限（</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">7</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">=</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">4+2+1</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">=</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">rwx</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">）</font>
+ <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">第二位：所属组权限（</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">5</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">=</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">4+1</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">=</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">r-x</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">）</font>
+ <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">第三位：其他用户权限（</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">4</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">=</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">4</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">=</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">r--</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">）</font>

<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">示例：</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">rwxr-xr--</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> 对应数字表示为 </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">754</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">。</font>

<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"></font>

<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">直接用 3 位数字设置权限（更简洁）：</font>

**<font style="color:rgb(249, 250, 251);background-color:rgb(252, 252, 252);">bash</font>**

```bash
# 设置权限为 rwxr-xr--（754）
chmod 754 file.txt

# 设置目录权限为 rwxr-x---（750）
chmod 750 dir/

# 给所有用户添加读权限（原权限基础上，相当于 a+r）
# 例如原权限为 640（rw-r-----），执行后为 644（rw-r--r--）
chmod +r file.txt
```



:::info
<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">在 Linux 系统中，修改文件或目录的所属用户组可以使用 </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">chgrp</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> 命令，也可以通过 </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">chown</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> 命令同时修改所有者和所属组。以下是具体操作方法：</font>

:::

### <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">2. 使用 </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">chgrp</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> 命令（专门修改所属组）</font>
`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">chgrp</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">是专门用于修改文件 / 目录所属用户组的命令，基本格式：</font>

**<font style="color:rgb(249, 250, 251);background-color:rgb(252, 252, 252);">bash</font>**

```bash
chgrp [选项] 新组名 文件名/目录名
```

**<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">常用选项</font>**<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：</font>

+ `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">-R</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：递归修改目录及其子目录中所有文件的所属组</font>

**<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">示例</font>**<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：</font>

**<font style="color:rgb(249, 250, 251);background-color:rgb(252, 252, 252);">bash</font>**

```bash
# 将 file.txt 的所属组改为 developers
chgrp developers file.txt

# 递归修改 /data 目录及其所有子内容的所属组为 project
chgrp -R project /data
```

### <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">3. 使用 </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">chown</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> 命令（同时修改所有者和所属组）</font>
`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">chown</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">主要用于修改文件的所有者，但也可以通过</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">所有者:所属组</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">的格式同时修改所属组，基本格式：</font>

**<font style="color:rgb(249, 250, 251);background-color:rgb(252, 252, 252);">bash</font>**

```bash
chown [选项] 所有者:新组名 文件名/目录名
```

**<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">说明</font>**<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：</font>

+ <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">若只需要修改所属组，可以将所有者部分留空（但冒号不能省略），如</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">:新组名</font>`

**<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">示例</font>**<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：</font>

**<font style="color:rgb(249, 250, 251);background-color:rgb(252, 252, 252);">bash</font>**

```bash
# 只修改 file.txt 的所属组为 testers（保持所有者不变）
chown :testers file.txt

# 同时修改所有者为 alice 和所属组为 design
chown alice:design image.png

# 递归修改 /docs 目录的所属组为 editors（保持所有者不变）
chown -R :editors /docs
```

### <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">注意事项</font>
1. <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">执行这些命令需要管理员权限（</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">root</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">或通过</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">sudo</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">），普通用户只能修改自己拥有的文件的所属组，且新组必须是该用户所属的组。</font>
2. <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">修改目录的所属组时，若需要子目录和文件同步变更，务必加上</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">-R</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">选项（递归操作）。</font>
3. <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">可以通过</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">ls -l</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">命令验证修改结果，查看文件信息中第四个字段（所属组）是否已更新。</font>

<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">例如，修改后执行 </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">ls -l file.txt</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">，输出中第四个字段应为新设置的用户组名称。</font>

