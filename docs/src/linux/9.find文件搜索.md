`find` 是 Linux 系统中强大的文件搜索命令，用于在指定目录下根据各种条件（如名称、大小、权限、修改时间等）查找文件或目录。以下是其核心用法：

## 基本语法

```bash
find 搜索路径 [选项] 搜索条件 [动作]
```

+ **搜索路径**：指定要搜索的目录（默认为当前目录 `.`）
+ **搜索条件**：定义查找规则（如名称、类型、大小等）
+ **动作**：对找到的文件执行操作（如删除、复制等，默认是显示路径）
## 常用搜索条件及示例
### 1. 按文件名搜索（最常用）
+ `-name "文件名"`：精确匹配文件名（区分大小写）
+ `-iname "文件名"`：忽略大小写匹配

```bash
# 在当前目录搜索名为 "config.ini" 的文件
find . -name "config.ini"

# 在 /etc 目录搜索所有 .conf 结尾的文件（忽略大小写）
find /etc -iname "*.conf"
```

### 2. 按文件类型搜索
+ `-type f`：普通文件
+ `-type d`：目录
+ `-type l`：符号链接
+ `-type b`：块设备
+ `-type c`：字符设备

```bash
# 在 /var 目录搜索所有目录
find /var -type d

# 在当前目录搜索所有 .sh 结尾的可执行文件
find . -type f -name "*.sh"
```

### 3. 按文件大小搜索
+ `-size [+/-]大小`：`+` 表示大于，`-` 表示小于
+ 单位：`b`（字节）、`k`（KB）、`M`（MB）、`G`（GB）（默认单位是 512 字节块）

```bash
# 搜索当前目录下大于 100MB 的文件
find . -type f -size +100M

# 搜索 /tmp 目录下小于 10KB 的文件
find /tmp -type f -size -10k
```

### 4. 按修改时间搜索
+ `-mtime [+/-]天数`：按内容修改时间（天）
+ `-mmin [+/-]分钟`：按内容修改时间（分钟）
+ 类似：`-atime`（访问时间）、`-ctime`（状态变更时间）

```bash
# 搜索最近 7 天内修改过的文件
find . -type f -mtime -7

# 搜索 30 天前修改过的日志文件
find /var/log -name "*.log" -mtime +30

# 搜索 1 小时内修改过的配置文件
find /etc -name "*.conf" -mmin -60
```

### 5. 按权限搜索
+ `-perm 权限值`：精确匹配权限（如 644、755）
+ `-perm -权限值`：文件权限包含指定权限（至少有这些权限）

```bash
# 搜索权限为 777 的文件（危险权限）
find / -type f -perm 777

# 搜索所有者有写权限的文件
find . -type f -perm -u+w
```

### 6. 按所有者 / 所属组搜索
+ `-user 用户名`：按所有者查找
+ `-group 组名`：按所属组查找

```bash
# 搜索所有者为 root 的文件
find /home -user root

# 搜索所属组为 developers 的目录
find /data -type d -group developers
```

## 常用动作（对搜索结果执行操作）
1. **删除文件**：`-delete`（直接删除找到的文件，慎用！）

```bash
# 删除当前目录下 30 天前的 .tmp 临时文件
find . -name "*.tmp" -mtime +30 -delete
```

2. **执行命令**：`-exec 命令 {} \;`（`{}` 代表找到的文件，`\;` 是命令结束符）

```bash
# 搜索所有 .txt 文件并查看其详细信息（类似 ls -l）
find . -name "*.txt" -exec ls -l {} \;

# 复制找到的 log 文件到 /backup 目录
find /var/log -name "*.log" -exec cp {} /backup \;
```

3. **结合管道**：将结果传递给其他命令处理

```bash
# 搜索大文件并排序（查看前 10 个最大文件）
find / -type f -size +1G -exec du -h {} \; | sort -rh | head -n 10
```

## 高级用法示例

```bash
# 复杂条件：搜索 /data 目录下，属于 user1 且 7 天内修改过的、大于 10MB 的 .tar.gz 文件
find /data -type f -user user1 -mtime -7 -size +10M -name "*.tar.gz"

# 排除目录：搜索时跳过 node_modules 目录
find . -path "./node_modules" -prune -o -name "*.js" -print
```

`find` 命令功能非常强大，通过组合不同条件可以实现精准的文件搜索，是系统管理和日常操作中不可或缺的工具。使用时注意：搜索根目录（`/`）可能需要管理员权限；删除操作（`-delete`）务必谨慎，建议先不加 `-delete` 确认结果再执行。