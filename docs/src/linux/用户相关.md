在 CentOS 系统中，用户管理是系统管理的重要部分，以下是常用的用户创建、修改等相关命令

## 创建用户

```bash
useradd [选项] 用户名
```

<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">常用选项：</font>

+ -m：自动创建用户的家目录
+ -s：指定用户的默认 shell，如/bin/bash
+ -g：指定用户所属的初始组
+ -G：指定用户所属的附加组

    - `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">-m</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：自动创建用户的家目录</font>
    - `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">-s</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：指定用户的默认 shell，如</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">/bin/bash</font>`
    - `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">-g</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：指定用户所属的初始组</font>
    - `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">-G</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：指定用户所属的附加组</font>

<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">示例：创建一个带家目录且使用 bash 的用户 test</font>**<font style="color:rgb(249, 250, 251);background-color:rgb(252, 252, 252);">bash</font>**

```bash
useradd -m -s /bin/bash test
```

2. **<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">设置 / 修改用户密码</font>****<font style="color:rgb(249, 250, 251);background-color:rgb(252, 252, 252);">bash</font>**

```bash
passwd 用户名
```

<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">执行后会提示输入新密码，输入时不会显示明文。</font>

3. **<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">修改用户信息</font>****<font style="color:rgb(249, 250, 251);background-color:rgb(252, 252, 252);">bash</font>**

```bash
usermod [选项] 用户名
```

<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">常用选项：</font>

    - `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">-l</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：修改用户名</font>
    - `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">-d</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：修改用户家目录</font>
    - `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">-s</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：修改默认 shell</font>
    - `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">-g</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：修改用户所属的主要组</font>
    - `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">-G</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：修改用户所属的附加组（会覆盖原有附加组，若要添加需加</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">-a</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">）</font>

<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">示例：将用户 test 的用户名改为 newtest</font>**<font style="color:rgb(249, 250, 251);background-color:rgb(252, 252, 252);">bash</font>**

```bash
usermod -l newtest test
```

4. **<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">删除用户</font>****<font style="color:rgb(249, 250, 251);background-color:rgb(252, 252, 252);">bash</font>**

```bash
userdel [选项] 用户名
```

<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">常用选项：</font>

    - `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">-r</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：删除用户的同时删除其家目录和邮件池</font>

<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">示例：彻底删除用户 test 及其家目录</font>**<font style="color:rgb(249, 250, 251);background-color:rgb(252, 252, 252);">bash</font>**

```bash
userdel -rf test
```

5. **<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">查看用户信息</font>****<font style="color:rgb(249, 250, 251);background-color:rgb(252, 252, 252);">bash</font>**

```bash
id 用户名
```

<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">该命令会显示用户的 UID、GID 以及所属的组信息。</font>

6. **<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">切换用户</font>****<font style="color:rgb(249, 250, 251);background-color:rgb(252, 252, 252);">bash</font>**

```bash
su - 用户名
```

<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">加上</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">-</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">会切换到该用户的环境，不加则保持当前环境。</font>

7. **<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">临时赋予用户 root 权限执行命令</font>****<font style="color:rgb(249, 250, 251);background-color:rgb(252, 252, 252);">bash</font>**

```bash
sudo 命令
```

<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">需要用户在 sudoers 文件中有相应权限配置。</font>

<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">这些命令都需要管理员权限（通常通过</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">root</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">用户或</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">sudo</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">执行），使用时需谨慎，避免误操作影响系统安全和稳定性。</font>

