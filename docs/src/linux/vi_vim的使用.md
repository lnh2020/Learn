<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">vi/vim 是 Linux 系统中最常用的文本编辑器，vim 是 vi 的增强版，支持更多功能。以下是其核心使用方法：</font>

### <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">一、基本操作</font>
1. **<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">启动与退出</font>****<font style="color:rgb(249, 250, 251);background-color:rgb(252, 252, 252);">bash</font>**

```bash
vim 文件名    # 打开文件，文件不存在则创建
vim +n 文件名  # 打开文件并跳至第n行
```

<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">退出方式：</font>

    - `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">:q</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：退出（未修改时）</font>
    - `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">:q!</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：强制退出（放弃修改）</font>
    - `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">:wq</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">或</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">ZZ</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：保存并退出</font>
    - `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">:w 文件名</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：另存为新文件</font>
2. **<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">三种工作模式</font>**
    - **<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">命令模式（默认）</font>**<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：刚打开文件时的模式，用于移动光标、删除内容等</font>
    - **<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">插入模式</font>**<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：按</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">i</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">（当前位置前插入）、</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">I</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">（行首插入）、</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">a</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">（当前位置后插入）、</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">A</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">（行尾插入）、</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">o</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">（下一行插入）、</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">O</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">（上一行插入）进入，按</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">Esc</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">返回命令模式</font>
    - **<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">末行模式</font>**<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：按</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">:</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">进入，用于保存、退出、搜索等操作</font>

### <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">二、命令模式常用操作</font>
1. **<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">光标移动</font>**
    - <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">方向键：上下左右移动</font>
    - `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">h/j/k/l</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：替代方向键（左 / 下 / 上 / 右）</font>
    - `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">w</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：移动到下一个单词首，</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">b</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：移动到上一个单词首</font>
    - `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">^</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">或</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">0</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：移动到行首，</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">$</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：移动到行尾</font>
    - `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">gg</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：到文件首行，</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">G</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：到文件尾行，</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">nG</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：到第 n 行</font>
2. **<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">文本编辑</font>**
    - **<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">删除</font>**<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：</font>
        * `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">x</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：删除光标处字符，</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">nx</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：删除光标后 n 个字符</font>
        * `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">dd</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：删除当前行，</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">ndd</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：删除当前行开始的 n 行</font>
        * `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">d$</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：删除从光标到行尾的内容，</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">d^</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：删除从光标到行首的内容</font>
    - **<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">复制粘贴</font>**<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：</font>
        * `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">yy</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：复制当前行，</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">nyy</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：复制 n 行</font>
        * `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">p</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：在光标后粘贴，</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">P</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：在光标前粘贴</font>
    - **<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">撤销与重做</font>**<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：</font>
        * `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">u</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：撤销上一步操作</font>
        * `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">Ctrl + r</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：重做（取消撤销）</font>
    - **<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">替换</font>**<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：</font>
        * `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">r</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：替换光标处单个字符（按 r 后输入新字符）</font>
        * `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">R</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：进入替换模式（持续替换后续字符，按 Esc 退出）</font>

### <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">三、末行模式常用操作</font>
1. **<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">搜索与替换</font>**
    - `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">:/关键词</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：从当前位置向下搜索关键词，按</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">n</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">找下一个，</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">N</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">找上一个</font>
    - `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">:?关键词</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：从当前位置向上搜索关键词</font>
    - `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">:%s/旧内容/新内容/g</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：全局替换所有旧内容为新内容（</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">%</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">表示所有行，</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">g</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">表示行内所有匹配）</font>
    - `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">:n1,n2s/旧内容/新内容/g</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：替换 n1 到 n2 行的内容</font>
2. **<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">显示设置</font>**
    - `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">:set nu</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：显示行号，</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">:set nonu</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：隐藏行号</font>
    - `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">:set hlsearch</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：高亮搜索结果，</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">:set nohlsearch</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：取消高亮</font>
    - `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">:set autoindent</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：自动缩进（适合写代码）</font>
3. **<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">多文件操作</font>**
    - `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">:sp 文件名</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：水平分屏打开另一个文件，</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">Ctrl + w + w</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">切换窗口</font>
    - `<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">:vsp 文件名</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：垂直分屏打开另一个文件</font>

### <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">四、实用技巧</font>
+ **<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">批量注释</font>**<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：</font>
    1. <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">命令模式下按</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">Ctrl + v</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">进入块选择模式</font>
    2. <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">移动光标选择需要注释的行的行首</font>
    3. <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">按</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">I</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">进入插入模式，输入注释符号（如</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">#</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">或</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">//</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">）</font>
    4. <font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">按</font><font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);"> </font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">Esc</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">，所有选中行将被注释</font>
+ **<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">快速格式化</font>**<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">gg=G</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">（自动缩进整个文件，适合代码）</font>
+ **<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">保存只读文件</font>**<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">：</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">:w !sudo tee %</font>`<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">（用管理员权限保存）</font>

<font style="color:rgb(0, 0, 0);background-color:rgb(252, 252, 252);">vim 的功能非常丰富，上述是最常用的基础操作。</font>

