`chkconfig` 是 **SysVinit** 服务管理架构中用于配置服务开机自启状态的命令工具，主要用于旧版 Linux 系统（如 CentOS 6、Ubuntu 14.04 及更早版本）。它通过管理服务在不同 “运行级别” 的自启状态，控制服务是否随系统启动而自动运行。

## 一、chkconfig 核心功能
+ 配置服务在特定运行级别的自启状态（开启 / 关闭）
+ 查看服务在各运行级别的自启状态
+ 管理系统服务的启动脚本

## 二、常用命令格式
```bash
chkconfig [选项] [服务名]
```

## 三、关键选项与示例
### 1. 查看所有服务的自启状态
```bash
chkconfig --list
```

输出示例：
```plain
httpd        0:off   1:off   2:on    3:on    4:off   5:on    6:off
mysqld       0:off   1:off   2:on    3:on    4:off   5:on    6:off
sshd         0:off   1:off   2:on    3:on    4:on    5:on    6:off
```

+ 每行代表一个服务，数字 `0-6` 对应运行级别
+ `on` 表示该级别下服务开机自启，`off` 表示不自启

### 2. 查看单个服务的自启状态
```bash
chkconfig --list [服务名]
```

示例（查看 httpd 服务）：
```bash
chkconfig --list httpd
```

### 3. 设置服务开机自启（所有级别）
```bash
chkconfig [服务名] on
```

示例（开启 sshd 服务自启）：
```bash
chkconfig sshd on
```

+ 会在所有常用运行级别（2-5）开启自启

### 4. 关闭服务开机自启（所有级别）
```bash
chkconfig [服务名] off
```

示例（关闭 mysqld 服务自启）：
```bash
chkconfig mysqld off
```

### 5. 为特定运行级别配置自启状态
```bash
chkconfig --level [级别] [服务名] [on|off]
```

示例：
+ 仅在运行级别 3 和 5 开启 httpd 自启：
```bash
chkconfig --level 35 httpd on
```

+ 在运行级别 2 关闭 sshd 自启：
```bash
chkconfig --level 2 sshd off
```

### 6. 添加自定义服务到 chkconfig 管理
如果手动编写了服务启动脚本（放在 `/etc/init.d/` 目录），需先添加到 chkconfig 管理：
```bash
chkconfig --add [服务名]
```

+ 脚本需符合特定格式（包含 `chkconfig: [默认级别] [启动顺序] [关闭顺序]` 注释）

### 7. 从 chkconfig 管理中移除服务
```bash
chkconfig --del [服务名]
```

## 四、注意事项
1. **适用系统**：仅用于 SysVinit 架构的系统（如 CentOS 6），现代系统（CentOS 7+、Ubuntu 15.04+）使用 Systemd 的 `systemctl enable/disable` 替代。
2. **运行级别对应**：
    - 常用级别：2（多用户无图形）、3（多用户带网络）、5（图形界面）
    - 特殊级别：0（关机）、6（重启）通常需设为 `off`
3. **权限要求**：修改服务状态需 `root` 权限（加 `sudo`）。
4. **即时生效**：`chkconfig` 仅配置开机自启状态，不会立即启动 / 停止服务，需配合 `service` 命令：
```bash
sudo service httpd start  # 立即启动服务
```

通过 `chkconfig`，可以灵活控制服务在不同系统运行状态下的自动启动行为，是旧版 Linux 系统服务管理的核心工具之一。