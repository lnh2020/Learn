vi/vim 是 Linux 系统中最常用的文本编辑器，vim 是 vi 的增强版，支持更多功能。以下是其核心使用方法：

## 一、基本操作
### 启动与退出

```bash
vim 文件名    # 打开文件，文件不存在则创建
vim +n 文件名  # 打开文件并跳至第n行
```

退出方式：
    - `:q`：退出（未修改时）
    - `:q!`：强制退出（放弃修改）
    - `:wq` 或 `ZZ`：保存并退出
    - `:w 文件名`：另存为新文件

### 三种工作模式
    - **命令模式（默认）**：刚打开文件时的模式，用于移动光标、删除内容等
    - **插入模式**：按 `i`（当前位置前插入）、`I`（行首插入）、`a`（当前位置后插入）、`A`（行尾插入）、`o`（下一行插入）、`O`（上一行插入）进入，按 `Esc` 返回命令模式
    - **末行模式**：按 `:` 进入，用于保存、退出、搜索等操作

## 二、命令模式常用操作
### 光标移动
    - 方向键：上下左右移动
    - `h/j/k/l`：替代方向键（左 / 下 / 上 / 右）
    - `w`：移动到下一个单词首，`b`：移动到上一个单词首
    - `^` 或 `0`：移动到行首，`$`：移动到行尾
    - `gg`：到文件首行，`G`：到文件尾行，`nG`：到第 n 行

### 文本编辑
    - **删除**：
        * `x`：删除光标处字符，`nx`：删除光标后 n 个字符
        * `dd`：删除当前行，`ndd`：删除当前行开始的 n 行
        * `d$`：删除从光标到行尾的内容，`d^`：删除从光标到行首的内容
    - **复制粘贴**：
        * `yy`：复制当前行，`nyy`：复制 n 行
        * `p`：在光标后粘贴，`P`：在光标前粘贴
    - **撤销与重做**：
        * `u`：撤销上一步操作
        * `Ctrl + r`：重做（取消撤销）
    - **替换**：
        * `r`：替换光标处单个字符（按 r 后输入新字符）
        * `R`：进入替换模式（持续替换后续字符，按 Esc 退出）

## 三、末行模式常用操作
### 搜索与替换
    - `:/关键词`：从当前位置向下搜索关键词，按 `n` 找下一个，`N` 找上一个
    - `:?关键词`：从当前位置向上搜索关键词
    - `:%s/旧内容/新内容/g`：全局替换所有旧内容为新内容（`%` 表示所有行，`g` 表示行内所有匹配）
    - `:n1,n2s/旧内容/新内容/g`：替换 n1 到 n2 行的内容

### 显示设置
    - `:set nu`：显示行号，`:set nonu`：隐藏行号
    - `:set hlsearch`：高亮搜索结果，`:set nohlsearch`：取消高亮
    - `:set autoindent`：自动缩进（适合写代码）

### 多文件操作
    - `:sp 文件名`：水平分屏打开另一个文件，`Ctrl + w + w` 切换窗口
    - `:vsp 文件名`：垂直分屏打开另一个文件

## 四、实用技巧
+ **批量注释**：
    1. 命令模式下按 `Ctrl + v` 进入块选择模式
    2. 移动光标选择需要注释的行的行首
    3. 按 `I` 进入插入模式，输入注释符号（如 `#` 或 `//`）
    4. 按 `Esc`，所有选中行将被注释

+ **快速格式化**：`gg=G`（自动缩进整个文件，适合代码）

+ **保存只读文件**：`:w !sudo tee %`（用管理员权限保存）

vim 的功能非常丰富，上述是最常用的基础操作。