在 Linux 系统中，打包和压缩文件是常用操作，用于节省存储空间和方便文件传输。常用的工具包括 `tar`（打包）、`gzip`、`bzip2`、`xz`（压缩）等，以下是具体用法：

## 一、`tar` 命令（打包 / 解包）
`tar` 本身仅用于打包（将多个文件 / 目录合并为一个文件），通常与压缩工具结合使用。

### 1. 打包并压缩
格式：`tar [选项] 压缩包名 源文件/目录`

常用选项：

+ `-c`：创建打包文件
+ `-x`：解包
+ `-v`：显示过程（verbose）
+ `-f`：指定打包文件名（必须放在最后）
+ `-z`：用 gzip 压缩 / 解压（.tar.gz 或 .tgz）
+ `-j`：用 bzip2 压缩 / 解压（.tar.bz2）
+ `-J`：用 xz 压缩 / 解压（.tar.xz）
+ `-C`：指定解压目录

**示例**：

```bash
# 用gzip压缩（最常用）
tar -zcvf docs.tar.gz /home/docs  # 将/home/docs目录压缩为docs.tar.gz

# 用bzip2压缩（压缩率略高，速度较慢）
tar -jcvf images.tar.bz2 *.jpg    # 将所有jpg文件压缩为images.tar.bz2

# 用xz压缩（压缩率最高，速度最慢）
tar -Jcvf data.tar.xz /var/data   # 将/var/data目录压缩为data.tar.xz
```

### 2. 解包并解压
格式：`tar [选项] 压缩包名`

**示例**：

```bash
# 解压tar.gz文件到当前目录
tar -zxvf docs.tar.gz

# 解压tar.bz2文件到指定目录/tmp
tar -jxvf images.tar.bz2 -C /tmp

# 解压tar.xz文件（不显示过程）
tar -Jxf data.tar.xz
```

## 二、单一文件压缩工具
适用于压缩单个文件（不能直接压缩目录）。

### 1. `gzip`（.gz）
```bash
gzip 文件名          # 压缩文件（原文件会被删除，生成文件名.gz）
gzip -d 文件名.gz    # 解压（-d表示decompress）
gzip -k 文件名       # 压缩并保留原文件（-k：keep）
```

示例：

```bash
gzip report.txt      # 压缩为report.txt.gz，原文件删除
gzip -dk logs.txt.gz # 解压logs.txt.gz并保留压缩包
```

### 2. `bzip2`（.bz2）
压缩率高于 gzip，但速度较慢：

```bash
bzip2 文件名         # 压缩文件
bzip2 -d 文件名.bz2  # 解压
bzip2 -k 文件名      # 压缩并保留原文件
```

### 3. `xz`（.xz）
压缩率最高，速度最慢：

```bash
xz 文件名            # 压缩文件
xz -d 文件名.xz      # 解压
xz -k 文件名         # 压缩并保留原文件
```

## 三、`zip` 和 `unzip`（跨平台兼容）
`zip` 格式在 Windows 和 Linux 间兼容性好，支持压缩目录。

### 1. 安装（部分系统默认不安装）
```bash
# CentOS/RHEL
sudo yum install zip unzip

# Ubuntu/Debian
sudo apt install zip unzip
```

### 2. 使用方法
```bash
# 压缩文件/目录为zip包
zip -r archive.zip dir1 file1.txt  # -r：递归压缩目录

# 解压zip包到当前目录
unzip archive.zip

# 解压到指定目录
unzip archive.zip -d /target/dir

# 查看zip包内容（不解压）
unzip -l archive.zip
```

## 四、常用场景对比
| **压缩格式** | **工具组合** | **压缩率** | **速度** | **适用场景** |
| :--- | :--- | :--- | :--- | :--- |
| .tar.gz | tar + gzip | 中 | 快 | 日常备份、多数 Linux 场景 |
| .tar.bz2 | tar + bzip2 | 较高 | 中 | 对压缩率有要求，可接受较慢速度 |
| .tar.xz | tar + xz | 最高 | 慢 | 长期存储，追求最小体积 |
| .zip | zip/unzip | 中 | 中 | 跨平台传输（与 Windows 共享） |


## 注意事项
+ 压缩目录时，`tar` 必须加 `-r` 选项（递归），`zip` 也需要 `-r`
+ 解压时若要指定目录，`tar` 用 `-C`，`unzip` 用 `-d`
+ 压缩率与速度通常成反比，根据需求选择合适格式

通过这些工具，可以高效地管理文件的打包与压缩，节省存储空间并简化文件传输流程。